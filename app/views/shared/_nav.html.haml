%nav.navbar.navbar-expand
  %ul.navbar-nav
    %li.nav-item
      %h1{id: 'nav-logo'}
        =link_to 'yELp', root_path
    %li.nav-item
      =form_tag search_businesses_path, method: :get do
        =label_tag do
          Find
          =text_field_tag :category, nil, id: 'find-q', placeholder: 'movers, burgers, bars, spas...'
        =label_tag do
          Near
          =text_field_tag :location, nil, id: 'near-q', placeholder: 'Denver, CO'
        =submit_tag 'Search', name: nil
    %li.nav-item
      =link_to businesses_path, { id: 'all-businesses-link', data: {toggle: 'tooltip', placement: 'bottom', container: 'body' }, title: 'See All Businesses' } do
        =fa_icon 'building'
    %li.nav-item
      =link_to reviews_path, {id: 'all-ratings', data: {toggle: 'tooltip', placement: 'bottom'}, title: 'See All Reviews'} do
        =fa_icon 'star'
    %li.dropdown.nav-item
      %a.dropdown-toggle{href: '#', role: 'button', id: 'dropdownMenuLink', data: {toggle: 'dropdown'}}
        =fa_icon 'user'
      %div.dropdown-menu{ aria: {labelledby: 'dropdownMenuLink'}}
        %section
          %ul
            %li
              =link_to user_path(current_user.id) do
                =fa_icon 'user'
            %li
              %dl
                %dt
                %dd
                  =link_to user_path(current_user.id) do
                    =current_user.first_name
                %dt
                %dd
                  =current_user.city
                %dt
                %dd
                  %ul
                    %li
                      =fa_icon 'building'
                      0
                    %li
                      =fa_icon 'star'
                      0
        %section
          =link_to user_path(current_user.id), class: 'dropdown-item' do
            =fa_icon 'user'
            About Me
          =link_to settings_user_path(current_user.id), class: 'dropdown-item' do
            =fa_icon 'gear'
            Account Settings
        %section
          =link_to 'Log Out', log_out_path
=render 'shared/flash_notices'
